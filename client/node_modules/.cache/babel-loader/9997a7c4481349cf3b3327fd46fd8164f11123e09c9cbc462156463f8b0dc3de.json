{"ast":null,"code":"// import React, { Fragment, useContext, useEffect } from \"react\";\n// import { useHistory } from \"react-router-dom\";\n// import { LayoutContext } from \"../index\";\n// import { cartListProduct } from \"./FetchApi\";\n// import { isAuthenticate } from \"../auth/fetchApi\";\n// import { cartList } from \"../productDetails/Mixins\";\n// import { subTotal, quantity, totalCost } from \"./Mixins\";\n\n// const apiURL = process.env.REACT_APP_API_URL;\n\n// const CartModal = () => {\n//   const history = useHistory();\n\n//   const { data, dispatch } = useContext(LayoutContext);\n//   const products = data.cartProduct;\n\n//   const cartModalOpen = () =>\n//     dispatch({ type: \"cartModalToggle\", payload: !data.cartModal });\n\n//   useEffect(() => {\n//     fetchData();\n\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//   }, []);\n\n//   const fetchData = async () => {\n//     try {\n//       let responseData = await cartListProduct();\n//       if (responseData && responseData.Products) {\n//         dispatch({ type: \"cartProduct\", payload: responseData.Products });\n//         dispatch({ type: \"cartTotalCost\", payload: totalCost() });\n//       }\n//     } catch (error) {\n//       console.log(error);\n//     }\n//   };\n\n//   const removeCartProduct = (id) => {\n//     let cart = localStorage.getItem(\"cart\")\n//       ? JSON.parse(localStorage.getItem(\"cart\"))\n//       : [];\n//     if (cart.length !== 0) {\n//       cart = cart.filter((item) => item.id !== id);\n//       localStorage.setItem(\"cart\", JSON.stringify(cart));\n//       fetchData();\n//       dispatch({ type: \"inCart\", payload: cartList() });\n//       dispatch({ type: \"cartTotalCost\", payload: totalCost() });\n//     }\n//     if (cart.length === 0) {\n//       dispatch({ type: \"cartProduct\", payload: null });\n//       fetchData();\n//       dispatch({ type: \"inCart\", payload: cartList() });\n//     }\n//   };\n\n//   return (\n//     <Fragment>\n//       {/* Black Overlay */}\n//       <div\n//         className={`${\n//           !data.cartModal ? \"hidden\" : \"\"\n//         } fixed top-0 z-30 w-full h-full bg-black opacity-50`}\n//       />\n//       {/* Cart Modal Start */}\n//       <section\n//         className={`${\n//           !data.cartModal ? \"hidden\" : \"\"\n//         } fixed z-40 inset-0 flex items-start justify-end`}\n//       >\n//         <div\n//           style={{ background: \"#303031\" }}\n//           className=\"w-full md:w-5/12 lg:w-4/12 h-full flex flex-col justify-between\"\n//         >\n//           <div className=\"overflow-y-auto\">\n//             <div className=\"border-b border-gray-700 flex justify-between\">\n//               <div className=\"p-4 text-white text-lg font-semibold\">Cart</div>\n//               {/* Cart Modal Close Button */}\n//               <div className=\"p-4 text-white\">\n//                 <svg\n//                   onClick={(e) => cartModalOpen()}\n//                   className=\"w-6 h-6 cursor-pointer\"\n//                   fill=\"currentColor\"\n//                   viewBox=\"0 0 20 20\"\n//                   xmlns=\"http://www.w3.org/2000/svg\"\n//                 >\n//                   <path\n//                     fillRule=\"evenodd\"\n//                     d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n//                     clipRule=\"evenodd\"\n//                   />\n//                 </svg>\n//               </div>\n//             </div>\n//             <div className=\"m-4 flex-col\">\n//               {products &&\n//                 products.length !== 0 &&\n//                 products.map((item, index) => {\n//                   return (\n//                     <Fragment key={index}>\n//                       {/* Cart Product Start */}\n//                       <div className=\"text-white flex space-x-2 my-4 items-center\">\n//                         <img\n//                           className=\"w-16 h-16 object-cover object-center\"\n//                           src={`${apiURL}/uploads/products/${item.pImages[0]}`}\n//                           alt=\"cartProduct\"\n//                         />\n//                         <div className=\"relative w-full flex flex-col\">\n//                           <div className=\"my-2\">{item.pName}</div>\n//                           <div className=\"flex items-center justify-between\">\n//                             <div className=\"flex items-center justify-between space-x-2\">\n//                               <div className=\"text-sm text-gray-400\">\n//                                 Quantity :\n//                               </div>\n//                               <div className=\"flex items-end\">\n//                                 <span className=\"text-sm text-gray-200\">\n//                                   {quantity(item._id)}\n//                                 </span>\n//                               </div>\n//                             </div>\n//                             <div>\n//                               {\" \"}\n//                               <span className=\"text-sm text-gray-400\">\n//                                 Subtotoal :\n//                               </span>{\" \"}\n//                               Rs.{subTotal(item._id, item.pPrice)}.00\n//                             </div>{\" \"}\n//                             {/* SUbtotal Count */}\n//                           </div>\n//                           {/* Cart Product Remove Button */}\n//                           <div\n//                             onClick={(e) => removeCartProduct(item._id)}\n//                             className=\"absolute top-0 right-0 text-white\"\n//                           >\n//                             <svg\n//                               className=\"w-5 h-5 cursor-pointer\"\n//                               fill=\"currentColor\"\n//                               viewBox=\"0 0 20 20\"\n//                               xmlns=\"http://www.w3.org/2000/svg\"\n//                             >\n//                               <path\n//                                 fillRule=\"evenodd\"\n//                                 d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n//                                 clipRule=\"evenodd\"\n//                               />\n//                             </svg>\n//                           </div>\n//                         </div>\n//                       </div>\n//                       {/* Cart Product Start */}\n//                     </Fragment>\n//                   );\n//                 })}\n\n//               {products === null && (\n//                 <div className=\"m-4 flex-col text-white text-xl text-center\">\n//                   No product in cart\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//           <div className=\"m-4 space-y-4\">\n//             <div\n//               onClick={(e) => cartModalOpen()}\n//               className=\"cursor-pointer px-4 py-2 border border-gray-400 text-white text-center cursor-pointer\"\n//             >\n//               Continue shopping\n//             </div>\n//             {data.cartTotalCost ? (\n//               <Fragment>\n//                 {isAuthenticate() ? (\n//                   <div\n//                     className=\"px-4 py-2 bg-black text-white text-center cursor-pointer\"\n//                     onClick={(e) => {\n//                       history.push(\"/checkout\");\n//                       cartModalOpen();\n//                     }}\n//                   >\n//                     Checkout Rs.{data.cartTotalCost}.00\n//                   </div>\n//                 ) : (\n//                   <div\n//                     className=\"px-4 py-2 bg-black text-white text-center cursor-pointer\"\n//                     onClick={(e) => {\n//                       history.push(\"/\");\n//                       cartModalOpen();\n//                       dispatch({\n//                         type: \"loginSignupError\",\n//                         payload: !data.loginSignupError,\n//                       });\n//                       dispatch({\n//                         type: \"loginSignupModalToggle\",\n//                         payload: !data.loginSignupModal,\n//                       });\n//                     }}\n//                   >\n//                     Checkout Rs.{data.cartTotalCost}.00\n//                   </div>\n//                 )}\n//               </Fragment>\n//             ) : (\n//               <div className=\"px-4 py-2 bg-black text-white text-center cursor-not-allowed\">\n//                 Checkout\n//               </div>\n//             )}\n//           </div>\n//         </div>\n//       </section>\n//       {/* Cart Modal End */}\n//     </Fragment>\n//   );\n// };\n\n// export default CartModal;","map":{"version":3,"names":[],"sources":["C:/Users/Niraj/OneDrive/Desktop/Final SEM PROJECT/ShopPoint/client/src/components/shop/partials/CartModal.js"],"sourcesContent":["// import React, { Fragment, useContext, useEffect } from \"react\";\r\n// import { useHistory } from \"react-router-dom\";\r\n// import { LayoutContext } from \"../index\";\r\n// import { cartListProduct } from \"./FetchApi\";\r\n// import { isAuthenticate } from \"../auth/fetchApi\";\r\n// import { cartList } from \"../productDetails/Mixins\";\r\n// import { subTotal, quantity, totalCost } from \"./Mixins\";\r\n\r\n// const apiURL = process.env.REACT_APP_API_URL;\r\n\r\n// const CartModal = () => {\r\n//   const history = useHistory();\r\n\r\n//   const { data, dispatch } = useContext(LayoutContext);\r\n//   const products = data.cartProduct;\r\n\r\n//   const cartModalOpen = () =>\r\n//     dispatch({ type: \"cartModalToggle\", payload: !data.cartModal });\r\n\r\n//   useEffect(() => {\r\n//     fetchData();\r\n\r\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n//   }, []);\r\n\r\n//   const fetchData = async () => {\r\n//     try {\r\n//       let responseData = await cartListProduct();\r\n//       if (responseData && responseData.Products) {\r\n//         dispatch({ type: \"cartProduct\", payload: responseData.Products });\r\n//         dispatch({ type: \"cartTotalCost\", payload: totalCost() });\r\n//       }\r\n//     } catch (error) {\r\n//       console.log(error);\r\n//     }\r\n//   };\r\n\r\n//   const removeCartProduct = (id) => {\r\n//     let cart = localStorage.getItem(\"cart\")\r\n//       ? JSON.parse(localStorage.getItem(\"cart\"))\r\n//       : [];\r\n//     if (cart.length !== 0) {\r\n//       cart = cart.filter((item) => item.id !== id);\r\n//       localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n//       fetchData();\r\n//       dispatch({ type: \"inCart\", payload: cartList() });\r\n//       dispatch({ type: \"cartTotalCost\", payload: totalCost() });\r\n//     }\r\n//     if (cart.length === 0) {\r\n//       dispatch({ type: \"cartProduct\", payload: null });\r\n//       fetchData();\r\n//       dispatch({ type: \"inCart\", payload: cartList() });\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <Fragment>\r\n//       {/* Black Overlay */}\r\n//       <div\r\n//         className={`${\r\n//           !data.cartModal ? \"hidden\" : \"\"\r\n//         } fixed top-0 z-30 w-full h-full bg-black opacity-50`}\r\n//       />\r\n//       {/* Cart Modal Start */}\r\n//       <section\r\n//         className={`${\r\n//           !data.cartModal ? \"hidden\" : \"\"\r\n//         } fixed z-40 inset-0 flex items-start justify-end`}\r\n//       >\r\n//         <div\r\n//           style={{ background: \"#303031\" }}\r\n//           className=\"w-full md:w-5/12 lg:w-4/12 h-full flex flex-col justify-between\"\r\n//         >\r\n//           <div className=\"overflow-y-auto\">\r\n//             <div className=\"border-b border-gray-700 flex justify-between\">\r\n//               <div className=\"p-4 text-white text-lg font-semibold\">Cart</div>\r\n//               {/* Cart Modal Close Button */}\r\n//               <div className=\"p-4 text-white\">\r\n//                 <svg\r\n//                   onClick={(e) => cartModalOpen()}\r\n//                   className=\"w-6 h-6 cursor-pointer\"\r\n//                   fill=\"currentColor\"\r\n//                   viewBox=\"0 0 20 20\"\r\n//                   xmlns=\"http://www.w3.org/2000/svg\"\r\n//                 >\r\n//                   <path\r\n//                     fillRule=\"evenodd\"\r\n//                     d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\r\n//                     clipRule=\"evenodd\"\r\n//                   />\r\n//                 </svg>\r\n//               </div>\r\n//             </div>\r\n//             <div className=\"m-4 flex-col\">\r\n//               {products &&\r\n//                 products.length !== 0 &&\r\n//                 products.map((item, index) => {\r\n//                   return (\r\n//                     <Fragment key={index}>\r\n//                       {/* Cart Product Start */}\r\n//                       <div className=\"text-white flex space-x-2 my-4 items-center\">\r\n//                         <img\r\n//                           className=\"w-16 h-16 object-cover object-center\"\r\n//                           src={`${apiURL}/uploads/products/${item.pImages[0]}`}\r\n//                           alt=\"cartProduct\"\r\n//                         />\r\n//                         <div className=\"relative w-full flex flex-col\">\r\n//                           <div className=\"my-2\">{item.pName}</div>\r\n//                           <div className=\"flex items-center justify-between\">\r\n//                             <div className=\"flex items-center justify-between space-x-2\">\r\n//                               <div className=\"text-sm text-gray-400\">\r\n//                                 Quantity :\r\n//                               </div>\r\n//                               <div className=\"flex items-end\">\r\n//                                 <span className=\"text-sm text-gray-200\">\r\n//                                   {quantity(item._id)}\r\n//                                 </span>\r\n//                               </div>\r\n//                             </div>\r\n//                             <div>\r\n//                               {\" \"}\r\n//                               <span className=\"text-sm text-gray-400\">\r\n//                                 Subtotoal :\r\n//                               </span>{\" \"}\r\n//                               Rs.{subTotal(item._id, item.pPrice)}.00\r\n//                             </div>{\" \"}\r\n//                             {/* SUbtotal Count */}\r\n//                           </div>\r\n//                           {/* Cart Product Remove Button */}\r\n//                           <div\r\n//                             onClick={(e) => removeCartProduct(item._id)}\r\n//                             className=\"absolute top-0 right-0 text-white\"\r\n//                           >\r\n//                             <svg\r\n//                               className=\"w-5 h-5 cursor-pointer\"\r\n//                               fill=\"currentColor\"\r\n//                               viewBox=\"0 0 20 20\"\r\n//                               xmlns=\"http://www.w3.org/2000/svg\"\r\n//                             >\r\n//                               <path\r\n//                                 fillRule=\"evenodd\"\r\n//                                 d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\r\n//                                 clipRule=\"evenodd\"\r\n//                               />\r\n//                             </svg>\r\n//                           </div>\r\n//                         </div>\r\n//                       </div>\r\n//                       {/* Cart Product Start */}\r\n//                     </Fragment>\r\n//                   );\r\n//                 })}\r\n\r\n//               {products === null && (\r\n//                 <div className=\"m-4 flex-col text-white text-xl text-center\">\r\n//                   No product in cart\r\n//                 </div>\r\n//               )}\r\n//             </div>\r\n//           </div>\r\n//           <div className=\"m-4 space-y-4\">\r\n//             <div\r\n//               onClick={(e) => cartModalOpen()}\r\n//               className=\"cursor-pointer px-4 py-2 border border-gray-400 text-white text-center cursor-pointer\"\r\n//             >\r\n//               Continue shopping\r\n//             </div>\r\n//             {data.cartTotalCost ? (\r\n//               <Fragment>\r\n//                 {isAuthenticate() ? (\r\n//                   <div\r\n//                     className=\"px-4 py-2 bg-black text-white text-center cursor-pointer\"\r\n//                     onClick={(e) => {\r\n//                       history.push(\"/checkout\");\r\n//                       cartModalOpen();\r\n//                     }}\r\n//                   >\r\n//                     Checkout Rs.{data.cartTotalCost}.00\r\n//                   </div>\r\n//                 ) : (\r\n//                   <div\r\n//                     className=\"px-4 py-2 bg-black text-white text-center cursor-pointer\"\r\n//                     onClick={(e) => {\r\n//                       history.push(\"/\");\r\n//                       cartModalOpen();\r\n//                       dispatch({\r\n//                         type: \"loginSignupError\",\r\n//                         payload: !data.loginSignupError,\r\n//                       });\r\n//                       dispatch({\r\n//                         type: \"loginSignupModalToggle\",\r\n//                         payload: !data.loginSignupModal,\r\n//                       });\r\n//                     }}\r\n//                   >\r\n//                     Checkout Rs.{data.cartTotalCost}.00\r\n//                   </div>\r\n//                 )}\r\n//               </Fragment>\r\n//             ) : (\r\n//               <div className=\"px-4 py-2 bg-black text-white text-center cursor-not-allowed\">\r\n//                 Checkout\r\n//               </div>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n//       </section>\r\n//       {/* Cart Modal End */}\r\n//     </Fragment>\r\n//   );\r\n// };\r\n\r\n// export default CartModal;\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}