{"ast":null,"code":"// import React, { Fragment, useContext, useEffect } from \"react\";\n// import { getAllCategory, deleteCategory } from \"./FetchApi\";\n// import { CategoryContext } from \"./index\";\n// import moment from \"moment\";\n\n// const apiURL = process.env.REACT_APP_API_URL;\n\n// const AllCategory = (props) => {\n//   const { data, dispatch } = useContext(CategoryContext);\n//   const { categories, loading } = data;\n\n//   useEffect(() => {\n//     fetchData();\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//   }, []);\n\n//   const fetchData = async () => {\n//     dispatch({ type: \"loading\", payload: true });\n//     let responseData = await getAllCategory();\n//     setTimeout(() => {\n//       if (responseData && responseData.Categories) {\n//         dispatch({\n//           type: \"fetchCategoryAndChangeState\",\n//           payload: responseData.Categories,\n//         });\n//         dispatch({ type: \"loading\", payload: false });\n//       }\n//     }, 1000);\n//   };\n\n//   const deleteCategoryReq = async (cId) => {\n//     let deleteC = await deleteCategory(cId);\n//     if (deleteC.error) {\n//       console.log(deleteC.error);\n//     } else if (deleteC.success) {\n//       console.log(deleteC.success);\n//       fetchData();\n//     }\n//   };\n\n//   /* This method call the editmodal & dispatch category context */\n//   const editCategory = (cId, type, des, status) => {\n//     if (type) {\n//       dispatch({\n//         type: \"editCategoryModalOpen\",\n//         cId: cId,\n//         des: des,\n//         status: status,\n//       });\n//     }\n//   };\n\n//   if (loading) {\n//     return (\n//       <div className=\"flex items-center justify-center p-8\">\n//         <svg\n//           class=\"w-12 h-12 animate-spin text-gray-600\"\n//           fill=\"none\"\n//           stroke=\"currentColor\"\n//           viewBox=\"0 0 24 24\"\n//           xmlns=\"http://www.w3.org/2000/svg\"\n//         >\n//           <path\n//             stroke-linecap=\"round\"\n//             stroke-linejoin=\"round\"\n//             stroke-width=\"2\"\n//             d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n//           ></path>\n//         </svg>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <Fragment>\n//       <div className=\"col-span-1 overflow-auto bg-white shadow-lg p-4\">\n//         <table className=\"table-auto border w-full my-2\">\n//           <thead>\n//             <tr>\n//               <th className=\"px-4 py-2 border\">Category</th>\n//               <th className=\"px-4 py-2 border\">Description</th>\n//               <th className=\"px-4 py-2 border\">Image</th>\n//               <th className=\"px-4 py-2 border\">Status</th>\n//               <th className=\"px-4 py-2 border\">Created at</th>\n//               <th className=\"px-4 py-2 border\">Updated at</th>\n//               <th className=\"px-4 py-2 border\">Actions</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {categories && categories.length > 0 ? (\n//               categories.map((item, key) => {\n//                 return (\n//                   <CategoryTable\n//                     category={item}\n//                     editCat={(cId, type, des, status) =>\n//                       editCategory(cId, type, des, status)\n//                     }\n//                     deleteCat={(cId) => deleteCategoryReq(cId)}\n//                     key={key}\n//                   />\n//                 );\n//               })\n//             ) : (\n//               <tr>\n//                 <td\n//                   colSpan=\"7\"\n//                   className=\"text-xl text-center font-semibold py-8\"\n//                 >\n//                   No category found\n//                 </td>\n//               </tr>\n//             )}\n//           </tbody>\n//         </table>\n//         <div className=\"text-sm text-gray-600 mt-2\">\n//           Total {categories && categories.length} category found\n//         </div>\n//       </div>\n//     </Fragment>\n//   );\n// };\n\n// /* Single Category Component */\n// const CategoryTable = ({ category, deleteCat, editCat }) => {\n//   return (\n//     <Fragment>\n//       <tr>\n//         <td className=\"p-2 text-left\">\n//           {category.cName.length > 20\n//             ? category.cName.slice(0, 20) + \"...\"\n//             : category.cName}\n//         </td>\n//         <td className=\"p-2 text-left\">\n//           {category.cDescription.length > 30\n//             ? category.cDescription.slice(0, 30) + \"...\"\n//             : category.cDescription}\n//         </td>\n//         <td className=\"p-2 text-center\">\n//           <img\n//             className=\"w-12 h-12 object-cover object-center\"\n//             src={`${apiURL}/uploads/categories/${category.cImage}`}\n//             alt=\"\"\n//           />\n//         </td>\n//         <td className=\"p-2 text-center\">\n//           {category.cStatus === \"Active\" ? (\n//             <span className=\"bg-green-200 rounded-full text-center text-xs px-2 font-semibold\">\n//               {category.cStatus}\n//             </span>\n//           ) : (\n//             <span className=\"bg-red-200 rounded-full text-center text-xs px-2 font-semibold\">\n//               {category.cStatus}\n//             </span>\n//           )}\n//         </td>\n//         <td className=\"p-2 text-center\">\n//           {moment(category.createdAt).format(\"lll\")}\n//         </td>\n//         <td className=\"p-2 text-center\">\n//           {moment(category.updatedAt).format(\"lll\")}\n//         </td>\n//         <td className=\"p-2 flex items-center justify-center\">\n//           <span\n//             onClick={(e) =>\n//               editCat(\n//                 category._id,\n//                 true,\n//                 category.cDescription,\n//                 category.cStatus\n//               )\n//             }\n//             className=\"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1\"\n//           >\n//             <svg\n//               className=\"w-6 h-6 fill-current text-green-500\"\n//               fill=\"currentColor\"\n//               viewBox=\"0 0 20 20\"\n//               xmlns=\"http://www.w3.org/2000/svg\"\n//             >\n//               <path d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\" />\n//               <path\n//                 fillRule=\"evenodd\"\n//                 d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\n//                 clipRule=\"evenodd\"\n//               />\n//             </svg>\n//           </span>\n//           <span\n//             onClick={(e) => deleteCat(category._id)}\n//             className=\"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1\"\n//           >\n//             <svg\n//               className=\"w-6 h-6 fill-current text-red-500\"\n//               fill=\"currentColor\"\n//               viewBox=\"0 0 20 20\"\n//               xmlns=\"http://www.w3.org/2000/svg\"\n//             >\n//               <path\n//                 fillRule=\"evenodd\"\n//                 d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\n//                 clipRule=\"evenodd\"\n//               />\n//             </svg>\n//           </span>\n//         </td>\n//       </tr>\n//     </Fragment>\n//   );\n// };\n\n// export default AllCategory;","map":{"version":3,"names":[],"sources":["C:/Users/Niraj/OneDrive/Desktop/Final SEM PROJECT/ShopPoint/client/src/components/admin/categories/AllCategories.js"],"sourcesContent":["// import React, { Fragment, useContext, useEffect } from \"react\";\r\n// import { getAllCategory, deleteCategory } from \"./FetchApi\";\r\n// import { CategoryContext } from \"./index\";\r\n// import moment from \"moment\";\r\n\r\n// const apiURL = process.env.REACT_APP_API_URL;\r\n\r\n// const AllCategory = (props) => {\r\n//   const { data, dispatch } = useContext(CategoryContext);\r\n//   const { categories, loading } = data;\r\n\r\n//   useEffect(() => {\r\n//     fetchData();\r\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n//   }, []);\r\n\r\n//   const fetchData = async () => {\r\n//     dispatch({ type: \"loading\", payload: true });\r\n//     let responseData = await getAllCategory();\r\n//     setTimeout(() => {\r\n//       if (responseData && responseData.Categories) {\r\n//         dispatch({\r\n//           type: \"fetchCategoryAndChangeState\",\r\n//           payload: responseData.Categories,\r\n//         });\r\n//         dispatch({ type: \"loading\", payload: false });\r\n//       }\r\n//     }, 1000);\r\n//   };\r\n\r\n//   const deleteCategoryReq = async (cId) => {\r\n//     let deleteC = await deleteCategory(cId);\r\n//     if (deleteC.error) {\r\n//       console.log(deleteC.error);\r\n//     } else if (deleteC.success) {\r\n//       console.log(deleteC.success);\r\n//       fetchData();\r\n//     }\r\n//   };\r\n\r\n//   /* This method call the editmodal & dispatch category context */\r\n//   const editCategory = (cId, type, des, status) => {\r\n//     if (type) {\r\n//       dispatch({\r\n//         type: \"editCategoryModalOpen\",\r\n//         cId: cId,\r\n//         des: des,\r\n//         status: status,\r\n//       });\r\n//     }\r\n//   };\r\n\r\n//   if (loading) {\r\n//     return (\r\n//       <div className=\"flex items-center justify-center p-8\">\r\n//         <svg\r\n//           class=\"w-12 h-12 animate-spin text-gray-600\"\r\n//           fill=\"none\"\r\n//           stroke=\"currentColor\"\r\n//           viewBox=\"0 0 24 24\"\r\n//           xmlns=\"http://www.w3.org/2000/svg\"\r\n//         >\r\n//           <path\r\n//             stroke-linecap=\"round\"\r\n//             stroke-linejoin=\"round\"\r\n//             stroke-width=\"2\"\r\n//             d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\r\n//           ></path>\r\n//         </svg>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <Fragment>\r\n//       <div className=\"col-span-1 overflow-auto bg-white shadow-lg p-4\">\r\n//         <table className=\"table-auto border w-full my-2\">\r\n//           <thead>\r\n//             <tr>\r\n//               <th className=\"px-4 py-2 border\">Category</th>\r\n//               <th className=\"px-4 py-2 border\">Description</th>\r\n//               <th className=\"px-4 py-2 border\">Image</th>\r\n//               <th className=\"px-4 py-2 border\">Status</th>\r\n//               <th className=\"px-4 py-2 border\">Created at</th>\r\n//               <th className=\"px-4 py-2 border\">Updated at</th>\r\n//               <th className=\"px-4 py-2 border\">Actions</th>\r\n//             </tr>\r\n//           </thead>\r\n//           <tbody>\r\n//             {categories && categories.length > 0 ? (\r\n//               categories.map((item, key) => {\r\n//                 return (\r\n//                   <CategoryTable\r\n//                     category={item}\r\n//                     editCat={(cId, type, des, status) =>\r\n//                       editCategory(cId, type, des, status)\r\n//                     }\r\n//                     deleteCat={(cId) => deleteCategoryReq(cId)}\r\n//                     key={key}\r\n//                   />\r\n//                 );\r\n//               })\r\n//             ) : (\r\n//               <tr>\r\n//                 <td\r\n//                   colSpan=\"7\"\r\n//                   className=\"text-xl text-center font-semibold py-8\"\r\n//                 >\r\n//                   No category found\r\n//                 </td>\r\n//               </tr>\r\n//             )}\r\n//           </tbody>\r\n//         </table>\r\n//         <div className=\"text-sm text-gray-600 mt-2\">\r\n//           Total {categories && categories.length} category found\r\n//         </div>\r\n//       </div>\r\n//     </Fragment>\r\n//   );\r\n// };\r\n\r\n// /* Single Category Component */\r\n// const CategoryTable = ({ category, deleteCat, editCat }) => {\r\n//   return (\r\n//     <Fragment>\r\n//       <tr>\r\n//         <td className=\"p-2 text-left\">\r\n//           {category.cName.length > 20\r\n//             ? category.cName.slice(0, 20) + \"...\"\r\n//             : category.cName}\r\n//         </td>\r\n//         <td className=\"p-2 text-left\">\r\n//           {category.cDescription.length > 30\r\n//             ? category.cDescription.slice(0, 30) + \"...\"\r\n//             : category.cDescription}\r\n//         </td>\r\n//         <td className=\"p-2 text-center\">\r\n//           <img\r\n//             className=\"w-12 h-12 object-cover object-center\"\r\n//             src={`${apiURL}/uploads/categories/${category.cImage}`}\r\n//             alt=\"\"\r\n//           />\r\n//         </td>\r\n//         <td className=\"p-2 text-center\">\r\n//           {category.cStatus === \"Active\" ? (\r\n//             <span className=\"bg-green-200 rounded-full text-center text-xs px-2 font-semibold\">\r\n//               {category.cStatus}\r\n//             </span>\r\n//           ) : (\r\n//             <span className=\"bg-red-200 rounded-full text-center text-xs px-2 font-semibold\">\r\n//               {category.cStatus}\r\n//             </span>\r\n//           )}\r\n//         </td>\r\n//         <td className=\"p-2 text-center\">\r\n//           {moment(category.createdAt).format(\"lll\")}\r\n//         </td>\r\n//         <td className=\"p-2 text-center\">\r\n//           {moment(category.updatedAt).format(\"lll\")}\r\n//         </td>\r\n//         <td className=\"p-2 flex items-center justify-center\">\r\n//           <span\r\n//             onClick={(e) =>\r\n//               editCat(\r\n//                 category._id,\r\n//                 true,\r\n//                 category.cDescription,\r\n//                 category.cStatus\r\n//               )\r\n//             }\r\n//             className=\"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1\"\r\n//           >\r\n//             <svg\r\n//               className=\"w-6 h-6 fill-current text-green-500\"\r\n//               fill=\"currentColor\"\r\n//               viewBox=\"0 0 20 20\"\r\n//               xmlns=\"http://www.w3.org/2000/svg\"\r\n//             >\r\n//               <path d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\" />\r\n//               <path\r\n//                 fillRule=\"evenodd\"\r\n//                 d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\r\n//                 clipRule=\"evenodd\"\r\n//               />\r\n//             </svg>\r\n//           </span>\r\n//           <span\r\n//             onClick={(e) => deleteCat(category._id)}\r\n//             className=\"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1\"\r\n//           >\r\n//             <svg\r\n//               className=\"w-6 h-6 fill-current text-red-500\"\r\n//               fill=\"currentColor\"\r\n//               viewBox=\"0 0 20 20\"\r\n//               xmlns=\"http://www.w3.org/2000/svg\"\r\n//             >\r\n//               <path\r\n//                 fillRule=\"evenodd\"\r\n//                 d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\r\n//                 clipRule=\"evenodd\"\r\n//               />\r\n//             </svg>\r\n//           </span>\r\n//         </td>\r\n//       </tr>\r\n//     </Fragment>\r\n//   );\r\n// };\r\n\r\n// export default AllCategory;\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}